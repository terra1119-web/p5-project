"use strict";(self.webpackChunkp5_project=self.webpackChunkp5_project||[]).push([[963],{910:(s,t,i)=>{i.d(t,{Z:()=>o});var h=i(35),e=i.n(h),p=i(851),n=i(906);class o{constructor({renderer:s="P2D",use2D:t=!0,useMic:i=!1}){this.renderer=s,this.use2D=t,this.p,this.w=window.innerWidth,this.h=window.innerHeight,this.alpha=0,this.graphic=null,this.canvas,this.fadeFlag=!1,this.startFade=this.startFade.bind(this),this.dispose=this.dispose.bind(this),this.useMic=i,this.mic,this.meter}setup(){const s="WEBGL"===this.renderer?this.p.WEBGL:this.p.P2D;this.p.createCanvas(this.w,this.h,s),this.graphic=this.p.createGraphics(this.w,this.h),this.graphic.hide(),window.addEventListener("fade",this.startFade,!1),this.useMic&&(this.meter=new p.Yu,this.mic=new p.Xv,this.mic.open(),this.mic.connect(this.meter))}draw(){"WEBGL"===this.renderer&&this.use2D&&this.p.translate(-this.p.width/2,-this.p.height/2,0),this.fadeFlag&&(this.graphic.clear(),this.graphic.fill(0,this.alpha),this.graphic.rect(0,0,this.graphic.width,this.graphic.height),this.alpha+=2,this.alpha>n.s.ALPHA_MAX&&this.dispose())}preload(){}mousePressed(){}keyTyped(){32!==this.p.keyCode||this.fadeFlag||this.startFade()}keyPressed(){}doubleClicked(){this.p.saveCanvas("sketch","png")}init(){this.canvas=new(e())((s=>{this.p=s,this.p.preload=()=>this.preload(),this.p.setup=()=>this.setup(),this.p.draw=()=>this.draw(),this.p.mousePressed=()=>this.mousePressed(),this.p.keyTyped=()=>this.keyTyped(),this.p.keyPressed=()=>this.keyPressed(),this.p.doubleClicked=()=>this.doubleClicked()}),"canvas")}startFade(){this.graphic.show(),this.fadeFlag=!0}dispose(){this.graphic.remove(),this.graphic=null,this.p.remove(),this.p=null,this.sketch=null,this.canvas=null,this.useMic&&this.mic.close(),this.mic=null,window.removeEventListener("fade",this.startFade,!1);const s=new Event("finish");window.dispatchEvent(s)}get getSketch(){return this.p}get getVolume(){return this.meter.getValue()}}},963:(s,t,i)=>{i.r(t),i.d(t,{default:()=>o});var h=i(910);class e extends h.Z{constructor(){super({renderer:"WEBGL",use2D:!1}),this.line_num,this.box_num,this.px,this.py,this.pz,this.dx,this.dy,this.dz,this.ampx,this.ampy,this.ampz,this.pn_time,this.offsetx,this.offsety,this.offsetz,this.tlx,this.tly,this.tlz,this.stx,this.sty,this.stz,this.enx,this.eny,this.enz,this.dtx,this.dty,this.dtz,this.lines=[],this.boxes=[]}setup(){super.setup(),this.p.colorMode(this.p.RGB,255),this.p.background(0),this.p.frameRate(30),this.line_num=100,this.box_num=200,this.offsetx=this.p.width/2,this.offsety=this.p.height/2,this.offsetz=0,this.px=this.offsetx,this.py=this.offsety,this.pz=this.offsetz,this.ampx=0,this.ampy=0,this.ampz=4e3,this.pn_time=0}draw(){if(super.draw(),this.p&&(this.p.background(0),this.pz-=40,this.px=this.ampz*this.p.noise(this.pz/2e5,this.pn_time),this.py=0,this.dx=this.px+this.p.random(-1e3,1e3),this.dy=this.py+this.p.random(-1e3,1e3),this.dz=this.pz,this.pn_time+=.01,this.lines.push(new p(this.px,this.py,this.pz,this.dx,this.dy,this.dz)),this.lines.length>this.line_num&&this.lines.shift(),this.lines.length>80)){this.tlx=this.offsetx,this.tly=this.offsety,this.tlz=this.offsetz;const s=this.lines[this.lines.length-60].px,t=this.lines[this.lines.length-60].py,i=this.lines[this.lines.length-60].pz,h=this.lines[this.lines.length-20].px,e=this.lines[this.lines.length-20].py,p=this.lines[this.lines.length-20].pz;this.p.camera(s+this.offsetx,t+this.offsety-60,i+this.offsetz,h+this.offsetx,e+this.offsety-60,p+this.offsetz,0,1,1),this.p.translate(this.tlx,this.tly,this.tlz);for(let s=0;s<this.lines.length-1;s++)s>0&&(this.p.stroke(255),this.p.strokeWeight(1),this.stx=this.lines[s].px,this.sty=this.lines[s].py,this.stz=this.lines[s].pz,this.enx=this.lines[s-1].px,this.eny=this.lines[s-1].py,this.enz=this.lines[s-1].pz,this.dtx=this.lines[s].dx,this.dty=this.lines[s].dy,this.dtz=this.lines[s].dz,this.p.beginShape(),this.p.vertex(this.stx-10,this.sty,this.stz),this.p.vertex(this.enx-10,this.eny,this.enz),this.p.vertex(this.enx+10,this.eny,this.enz),this.p.vertex(this.stx+10,this.sty,this.stz),this.p.endShape());for(let s=0;s<4;s++){const s=this.p.color(255,255,255);this.boxes.push(new n(this.p,this.px+this.p.random(-600,600),this.py+this.p.random(-600,600),this.pz,0,this.size,this.size,this.size,s))}if(this.boxes.forEach((s=>{s.drawBox()})),this.boxes.length>this.box_num)for(let s=0;s<4;s++)this.boxes.shift()}}}class p{constructor(s,t,i,h,e,p){this.px=s,this.py=t,this.pz=i,this.dx=h,this.dy=e,this.dz=p}}class n{constructor(s,t,i,h,e,p,n,o,l){this.p=s,this.alpha=e,this.box_sizex=p,this.box_sizey=n,this.box_sizez=o,this.box_locx=t,this.box_locy=i,this.box_locz=h,this.col=l,console.log()}drawBox(){this.alpha+=3.2,this.p.noFill(),this.p.stroke(255,this.alpha),this.p.push(),this.p.translate(this.box_locx,this.box_locy,this.box_locz),this.p.box(this.box_sizex,this.box_sizey,this.box_sizez),this.p.pop()}}function o(){(new e).init()}}}]);