"use strict";(self.webpackChunkp5_project=self.webpackChunkp5_project||[]).push([[870],{910:(t,i,s)=>{s.d(i,{Z:()=>a});var h=s(35),e=s.n(h),r=s(851),p=s(906);class a{constructor({renderer:t="P2D",use2D:i=!0,useMic:s=!1}){this.renderer=t,this.use2D=i,this.p,this.w=window.innerWidth,this.h=window.innerHeight,this.alpha=0,this.graphic=null,this.canvas,this.fadeFlag=!1,this.startFade=this.startFade.bind(this),this.dispose=this.dispose.bind(this),this.useMic=s,this.mic,this.meter}setup(){const t="WEBGL"===this.renderer?this.p.WEBGL:this.p.P2D;this.p.createCanvas(this.w,this.h,t),this.graphic=this.p.createGraphics(this.w,this.h),this.graphic.hide(),window.addEventListener("fade",this.startFade,!1),this.useMic&&(this.meter=new r.Yu,this.mic=new r.Xv,this.mic.open(),this.mic.connect(this.meter))}draw(){"WEBGL"===this.renderer&&this.use2D&&this.p.translate(-this.p.width/2,-this.p.height/2,0),this.fadeFlag&&(this.graphic.clear(),this.graphic.fill(0,this.alpha),this.graphic.rect(0,0,this.graphic.width,this.graphic.height),this.alpha+=2,this.alpha>p.s.ALPHA_MAX&&this.dispose())}preload(){}mousePressed(){}keyTyped(){32!==this.p.keyCode||this.fadeFlag||this.startFade()}keyPressed(){}doubleClicked(){this.p.saveCanvas("sketch","png")}init(){this.canvas=new(e())((t=>{this.p=t,this.p.preload=()=>this.preload(),this.p.setup=()=>this.setup(),this.p.draw=()=>this.draw(),this.p.mousePressed=()=>this.mousePressed(),this.p.keyTyped=()=>this.keyTyped(),this.p.keyPressed=()=>this.keyPressed(),this.p.doubleClicked=()=>this.doubleClicked()}),"canvas")}startFade(){this.graphic.show(),this.fadeFlag=!0}dispose(){this.graphic.remove(),this.graphic=null,this.p.remove(),this.p=null,this.sketch=null,this.canvas=null,this.useMic&&this.mic.close(),this.mic=null,window.removeEventListener("fade",this.startFade,!1);const t=new Event("finish");window.dispatchEvent(t)}get getSketch(){return this.p}get getVolume(){return this.meter.getValue()}}},870:(t,i,s)=>{s.r(i),s.d(i,{default:()=>p});var h=s(910);class e{constructor(t,i,s,h){this.p=i,this.mainGraphics=s,this.overAllTexture=h,this.colors="e6e1c5-d4cb92-395c6b-80a4ed-bcd3f2-f24-fff-52489c-4062bb-59c3c3-ebebeb-f45b69-0c090d-e01a4f-f15946-f9c22e-53b3cb".split("-").map((t=>"#"+t));const e={point:this.p.createVector(0,0),v:this.p.createVector(0,0),a:this.p.createVector(0,0),r:10,dp:this.p.random(.93,.99),angMult:this.p.random(10,50),color:this.p.random(this.colors),flg:!1};Object.assign(e,t),Object.assign(this,e)}draw(){this.mainGraphics.push(),this.mainGraphics.translate(this.point.x,this.point.y),this.mainGraphics.fill(this.color),this.mainGraphics.noStroke(),this.mainGraphics.ellipse(0,0,this.r),this.mainGraphics.pop()}update(){this.point.add(this.v),this.v.add(this.a);let t=this.p.createVector(this.point.x-this.p.width/2,this.point.y-this.p.height/2),i=t.heading(),s=t.mag();this.v.x+=-this.p.sin(i*this.angMult+s/5)/15+this.p.cos(s/10)/10,this.v.y+=-this.p.cos(i*this.angMult+s/5)/15+this.p.sin(s/10)/10,this.a.x=1.1*(this.p.noise(this.point.x,this.point.y,5)-.5),this.a.y=1.1*(this.p.noise(this.point.x,this.point.y,5e3)-.5),this.v.mult(.95),(this.r>120||this.r<10)&&(this.flg=!this.flg),this.flg?this.r*=this.dp:this.r+=.9*this.dp}}class r extends h.Z{constructor(){super({}),this.particles=[],this.mainGraphics,this.overAllTexture}setup(){super.setup(),this.overAllTexture=this.p.createGraphics(this.p.width,this.p.height),this.mainGraphics=this.p.createGraphics(this.p.width,this.p.height),this.overAllTexture.loadPixels();for(let t=0;t<this.p.width+50;t++)for(let i=0;i<this.p.height+50;i++)this.overAllTexture.set(t,i,this.p.color(150,this.p.noise(t/10,t*i/300)*this.p.random([0,50,100])));this.overAllTexture.updatePixels(),this.p.background(0);for(let t=0;t<this.p.width;t+=200)for(let i=0;i<this.p.height;i+=100)this.particles.push(new e({point:this.p.createVector(t,i),v:this.p.createVector(10*this.p.noise(t/10)-5,10*this.p.noise(i/10)-5),r:this.p.random(150)},this.p,this.mainGraphics,this.overAllTexture));this.mainGraphics.background(0)}draw(){super.draw(),this.p&&(this.particles.forEach((t=>t.draw())),this.particles.forEach((t=>t.update())),this.p.image(this.mainGraphics,0,0),this.p.push(),this.p.blendMode(this.p.ADD),this.p.image(this.overAllTexture,0,0),this.p.pop())}}function p(){(new r).init()}}}]);