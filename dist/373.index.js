"use strict";(self.webpackChunkp5_project=self.webpackChunkp5_project||[]).push([[373],{910:(t,s,i)=>{i.d(s,{Z:()=>c});var e=i(35),h=i.n(e),a=i(851),r=i(906);class c{constructor({renderer:t="P2D",use2D:s=!0,useMic:i=!1}){this.renderer=t,this.use2D=s,this.p,this.w=window.innerWidth,this.h=window.innerHeight,this.alpha=0,this.graphic=null,this.canvas,this.fadeFlag=!1,this.startFade=this.startFade.bind(this),this.dispose=this.dispose.bind(this),this.useMic=i,this.mic,this.meter}setup(){const t="WEBGL"===this.renderer?this.p.WEBGL:this.p.P2D;this.p.createCanvas(this.w,this.h,t),this.graphic=this.p.createGraphics(this.w,this.h),this.graphic.hide(),window.addEventListener("fade",this.startFade,!1),this.useMic&&(this.meter=new a.Yu,this.mic=new a.Xv,this.mic.open(),this.mic.connect(this.meter))}draw(){"WEBGL"===this.renderer&&this.use2D&&this.p.translate(-this.p.width/2,-this.p.height/2,0),this.fadeFlag&&(this.graphic.clear(),this.graphic.fill(0,this.alpha),this.graphic.rect(0,0,this.graphic.width,this.graphic.height),this.alpha+=2,this.alpha>r.s.ALPHA_MAX&&this.dispose())}preload(){}mousePressed(){}keyTyped(){32!==this.p.keyCode||this.fadeFlag||this.startFade()}keyPressed(){}doubleClicked(){this.p.saveCanvas("sketch","png")}init(){this.canvas=new(h())((t=>{this.p=t,this.p.preload=()=>this.preload(),this.p.setup=()=>this.setup(),this.p.draw=()=>this.draw(),this.p.mousePressed=()=>this.mousePressed(),this.p.keyTyped=()=>this.keyTyped(),this.p.keyPressed=()=>this.keyPressed(),this.p.doubleClicked=()=>this.doubleClicked()}),"canvas")}startFade(){this.graphic.show(),this.fadeFlag=!0}dispose(){this.graphic.remove(),this.graphic=null,this.p.remove(),this.p=null,this.sketch=null,this.canvas=null,this.useMic&&this.mic.close(),this.mic=null,window.removeEventListener("fade",this.startFade,!1);const t=new Event("finish");window.dispatchEvent(t)}get getSketch(){return this.p}get getVolume(){return this.meter.getValue()}}},373:(t,s,i)=>{i.r(s),i.d(s,{default:()=>o});var e=i(35),h=i.n(e),a=i(910);class r{constructor(t,s,i){this.p=t,this.mass=1,this.friction=.01,this.g=10,this.location=this.p.createVector(this.p.random(this.p.width),this.p.random(this.p.height)),this.velocity=this.p.createVector(0,0),this.accelaration=this.p.createVector(s,i),this.img}update(){this.velocity.add(this.accelaration),this.velocity.mult(1-this.friction),this.location.add(this.velocity),this.accelaration.set(0,0)}display(){this.p.image(this.img,this.location.x,this.location.y)}attract(t){const s=new(h().Vector.sub)(t.location,this.location);let i=s.mag();i=this.p.constrain(i,4,1e3),s.normalize();const e=this.g*this.mass*t.mass/this.p.pow(i,2);return s.mult(e),s}applyForce(t){const s=new(h().Vector.div)(t,this.mass);this.accelaration.add(s)}wallThrough(){this.location.x>this.p.width&&(this.location.x=0),this.location.x<0&&(this.location.x=this.p.width),this.location.y>this.p.height&&(this.location.y=0),this.location.y<0&&(this.location.y=this.p.height)}createParticleImage(){const t=400;this.img=this.p.createImage(t,t);const s=this.p.pow(10,1.9),i=this.p.random(100,255),e=this.p.random(100,255),h=this.p.random(100,255);this.img.loadPixels();for(let a=0;a<t;a++)for(let r=0;r<t;r++){const t=(this.p.sq(200-r)+this.p.sq(200-a))/s,c=this.p.color(i/t,e/t,h/t);this.img.set(r,a,c)}return this.img.updatePixels(),this.img}}class c extends a.Z{constructor(){super({}),this.count=100,this.particles=[]}setup(){super.setup(),this.p.blendMode(this.p.ADD),this.p.imageMode(this.p.CENTER),this.p.frameRate(30),this.p.background(0);for(let t=0;t<this.count;t++)this.particles[t]=new r(this.p,0,0),this.particles[t].createParticleImage()}draw(){if(super.draw(),this.p){this.p.clear(),this.p.background(0),this.p.noStroke();for(let t=0;t<this.count;t++)for(let s=0;s<this.count;s++)if(t!=s){const i=this.particles[t].attract(this.particles[s],this.p);this.particles[t].applyForce(i)}for(let t=0;t<this.count;t++)this.particles[t].update(),this.particles[t].wallThrough(),this.particles[t].display()}}mousePressed(){super.mousePressed(),this.particles.push(new r(this.p,0,0)),this.particles[this.count].createParticleImage(),this.count++,console.log(this.particles.length)}}function o(){(new c).init()}}}]);