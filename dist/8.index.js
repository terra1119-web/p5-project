(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{18:function(t,s,i){"use strict";i.d(s,"a",(function(){return a}));var h=i(19),e=i.n(h),c=i(20),o=i(0);class a{constructor({renderer:t="P2D",use2D:s=!0,useMic:i=!1}){this.renderer=t,this.use2D=s,this.p,this.w=window.innerWidth,this.h=window.innerHeight,this.alpha=0,this.graphic=null,this.canvas,this.fadeFlag=!1,this.startFade=this.startFade.bind(this),this.dispose=this.dispose.bind(this),this.useMic=i,this.mic,this.meter}setup(){const t="WEBGL"===this.renderer?this.p.WEBGL:this.p.P2D;this.p.createCanvas(this.w,this.h,t),this.graphic=this.p.createGraphics(this.w,this.h),this.graphic.hide(),window.addEventListener("fade",this.startFade,!1),this.useMic&&(this.meter=new c.a,this.mic=new c.b,this.mic.open(),this.mic.connect(this.meter))}draw(){"WEBGL"===this.renderer&&this.use2D&&this.p.translate(-this.p.width/2,-this.p.height/2,0),this.fadeFlag&&(this.graphic.clear(),this.graphic.fill(0,this.alpha),this.graphic.rect(0,0,this.graphic.width,this.graphic.height),this.alpha+=2,this.alpha>o.a.ALPHA_MAX&&this.dispose())}preload(){}mousePressed(){}keyTyped(){32!==this.p.keyCode||this.fadeFlag||this.startFade()}keyPressed(){}doubleClicked(){this.p.saveCanvas("sketch","png")}init(){this.canvas=new e.a(t=>{this.p=t,this.p.preload=()=>this.preload(),this.p.setup=()=>this.setup(),this.p.draw=()=>this.draw(),this.p.mousePressed=()=>this.mousePressed(),this.p.keyTyped=()=>this.keyTyped(),this.p.keyPressed=()=>this.keyPressed(),this.p.doubleClicked=()=>this.doubleClicked()},"canvas")}startFade(){this.graphic.show(),this.fadeFlag=!0}dispose(){this.graphic.remove(),this.graphic=null,this.p.remove(),this.p=null,this.sketch=null,this.canvas=null,this.useMic&&this.mic.close(),this.mic=null,window.removeEventListener("fade",this.startFade,!1);const t=new Event("finish");window.dispatchEvent(t)}get getSketch(){return this.p}get getVolume(){return this.meter.getValue()}}},7:function(t,s,i){"use strict";i.r(s);var h=i(19),e=i.n(h),c=i(18);class o extends c.a{constructor(){super({}),this.boids=[],this.preds=[],this.boidNum=130,this.predNum=1,this.obstRad=60,this.flocking=!0,this.arrow=!0,this.circle=!1,this.predBool=!0,this.obsBool=!1}setup(){super.setup(),this.p.background(0);for(let t=0;t<this.boidNum;t++)this.boids.push(new a(this.p,new e.a.Vector(this.p.random(0,this.p.width),this.p.random(0,this.p.height))));for(let t=0;t<this.predNum;t++)this.preds.push(new r(this.p,new e.a.Vector(this.p.random(0,this.p.width),this.p.random(0,this.p.height)),80))}draw(){super.draw(),this.p&&(this.p.background(0),this.p.fill(0,64),this.p.rect(0,0,this.p.width,this.p.height),this.boids.forEach(t=>{this.predBool&&this.preds.forEach(s=>{let i=s.getLoc();t.repelForce(i,this.obstRad)}),this.obsBool,this.flocking&&t.flockForce(this.boids),t.display(this.circle,this.arrow)}),this.preds.forEach(t=>{this.flocking&&(t.flockForce(this.boids),this.preds.forEach(s=>{s.getLoc()!=t.getLoc()&&t.repelForce(s.getLoc(),30)})),t.display()}))}}class a{constructor(t,s){this.p=t,this.loc=s,this.vec=new e.a.Vector,this.acc=new e.a.Vector,this.mass=Math.floor(this.p.random(10,30)),this.maxForce=6}flockForce(t){this.avoidForce(t),this.approachForce(t),this.alignForce(t)}update(){this.vec.add(this.acc),this.loc.add(this.vec),this.acc.mult(0),this.vec.limit(5),this.loc.x<=0&&(this.loc.x=this.p.width),this.loc.x>this.p.width&&(this.loc.x=0),this.loc.y<=0&&(this.loc.y=this.p.height),this.loc.y>this.p.height&&(this.loc.y=0)}applyF(t){t.div(this.mass),this.acc.add(t)}display(t,s){this.update(),this.p.fill(255,255,255),this.p.noStroke(),t&&this.p.ellipse(this.loc.x,this.loc.y,this.mass,this.mass),s&&(this.p.stroke(255,255,255),this.p.strokeWeight(5),this.p.line(this.loc.x,this.loc.y,this.loc.x+5*this.vec.x,this.loc.y+5*this.vec.y))}avoidForce(t){let s=0,i=new e.a.Vector;if(t.forEach(t=>{let h=this.mass+20,c=e.a.Vector.sub(t.getLoc(),this.loc).mag();if(0!=c&&c<h){let h=t.getLoc();i.add(h),s++}}),s>0){i.div(s);let t=e.a.Vector.sub(this.loc,i);t.limit(2.5*this.maxForce),this.applyF(t)}}approachForce(t){let s=0,i=new e.a.Vector;if(t.forEach(t=>{let h=this.mass+60,c=e.a.Vector.sub(t.getLoc(),this.loc).mag();if(0!=c&&c<h){let h=t.getLoc();i.add(h),s++}}),s>0){i.div(s);let t=e.a.Vector.sub(i,this.loc);t.limit(this.maxForce),this.applyF(t)}}alignForce(t){let s=0,i=new e.a.Vector;if(t.forEach(t=>{let h=this.mass+100,c=e.a.Vector.sub(t.getLoc(),this.loc).mag();if(0!=c&&c<h){let h=t.getVel();i.add(h),s++}}),s>0){i.div(s);let t=i;t.limit(this.maxForce),this.applyF(t)}}repelForce(t,s){let i=e.a.Vector.add(this.loc,this.vec),h=e.a.Vector.sub(t,i).mag();if(h<=s){let s=e.a.Vector.sub(this.loc,t);s.normalize(),0!=h&&(s.normalize(),s.mult(7*this.maxForce),s.mag()<0&&(s.y=0)),this.applyF(s)}}getLoc(){return this.loc}getVel(){return this.vec}}class r extends a{constructor(t,s){super(t,s),this.maxForce=10,this.mass=Math.floor(this.p.random(70,100))}display(){this.update(),this.p.fill(255,0,0),this.p.noStroke(),this.p.ellipse(this.loc.x,this.loc.y,this.mass,this.mass)}update(){this.vec.add(this.acc),this.loc.add(this.vec),this.acc.mult(0),this.vec.limit(6),this.loc.x<=0&&(this.loc.x=this.p.width),this.loc.x>this.p.width&&(this.loc.x=0),this.loc.y<=0&&(this.loc.y=this.p.height),this.loc.y>this.p.height&&(this.loc.y=0)}approachForce(t){let s=0,i=new e.a.Vector;if(t.forEach(t=>{let h=this.mass+260,c=e.a.Vector.sub(t.getLoc(),this.loc).mag();if(0!=c&&c<h){let h=t.getLoc();i.add(h),s++}}),s>0){i.div(s);let t=e.a.Vector.sub(i,this.loc);t.limit(this.maxForce),this.applyF(t)}}}s.default=function(){(new o).init()}}}]);