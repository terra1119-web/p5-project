(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{18:function(s,t,i){"use strict";i.d(t,"a",(function(){return o}));var e=i(19),h=i.n(e),p=i(0);class o{constructor(s="P2D",t=!0){this.renderer=s,this.use2D=t,this.sketch,this.p,this.w=window.innerWidth,this.h=window.innerHeight,this.alpha=0,this.graphic=null,this.canvas,this.fadeFlag=!1,this.startFade=this.startFade.bind(this),this.dispose=this.dispose.bind(this)}setup(){const s="WEBGL"===this.renderer?this.p.WEBGL:this.p.P2D;this.p.createCanvas(this.w,this.h,s),this.graphic=this.p.createGraphics(this.w,this.h),this.graphic.hide(),window.addEventListener("fade",this.startFade,!1)}draw(){"WEBGL"===this.renderer&&this.use2D&&this.p.translate(-this.p.width/2,-this.p.height/2,0),this.fadeFlag&&(this.graphic.clear(),this.graphic.fill(0,this.alpha),this.graphic.rect(0,0,this.graphic.width,this.graphic.height),this.alpha+=2,this.alpha>p.a.ALPHA_MAX&&this.dispose())}preload(){}mousePressed(){}keyTyped(){32!==this.p.keyCode||this.fadeFlag||this.startFade()}keyPressed(){}doubleClicked(){}init(){this.sketch=s=>{this.p=s,this.p.preload=()=>this.preload(),this.p.setup=()=>this.setup(),this.p.draw=()=>this.draw(),this.p.mousePressed=()=>this.mousePressed(),this.p.keyTyped=()=>this.keyTyped(),this.p.keyPressed=()=>this.keyPressed(),this.p.doubleClicked=()=>this.doubleClicked()},this.canvas=new h.a(this.sketch,"canvas")}startFade(){this.graphic.show(),this.fadeFlag=!0}dispose(){this.graphic.remove(),this.graphic=null,this.p.remove(),this.p=null,this.sketch=null,this.canvas=null;const s=new Event("finish");window.dispatchEvent(s),window.removeEventListener("fade",this.startFade,!1)}get getSketch(){return this.p}}},5:function(s,t,i){"use strict";i.r(t);var e=i(18),h=i(20),p=i.n(h);class o extends e.a{constructor(){super(),this.video,this.poseNet,this.poses=[],this.emojiCode}setup(){super.setup(),this.p.background(0),this.video=this.p.createCapture(this.p.VIDEO),this.video.size(this.p.width,this.p.height),this.poseNet=p.a.poseNet(this.video,this.modelReady),this.poseNet.on("pose",s=>{this.poses=s}),this.video.hide(),this.p.textAlign(this.p.CENTER,this.p.CENTER),this.emojiCode=128049}draw(){super.draw(),this.p&&(this.p.push(),this.p.translate(this.p.width,0),this.p.scale(-1,1),this.p.image(this.video,0,0,this.p.width,this.p.height),this.p.blendMode(this.p.ADD),this.p.image(this.video,0,0,this.p.width,this.p.height),this.p.blendMode(this.p.BLEND),this.drawEmoji(),this.p.pop())}modelReady(){console.log("modelReady")}drawEmoji(){const s=String.fromCodePoint(this.emojiCode);for(let t=0;t<this.poses.length;t++){let i=this.poses[t].pose;const e=i.keypoints[0],h=i.keypoints[3],p=i.keypoints[4];let o,d,a,n,r,c;if(e.score>.2&&(o=e.position.x,d=e.position.y),h.score>.2&&(a=h.position.x,n=h.position.y),p.score>.2&&(r=p.position.x,c=p.position.y),r&&c&&a&&n&&o&&d){const t=this.p.dist(r,c,a,n);this.p.blendMode(this.p.MULTIPLY),this.p.textSize(1.5*t),this.p.text(s,o,d-100),this.p.text(s,o,d-100),this.p.blendMode(this.p.BLEND)}}}dispose(){super.dispose(),this.video.remove(),this.video=null}}t.default=function(){(new o).init()}}}]);