(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{13:function(s,t,e){"use strict";e.d(t,"a",(function(){return d}));var i=e(14),h=e.n(i),a=e(0);class d{constructor(s="P2D",t=!0){this.renderer=s,this.use2D=t,this.sketch,this.s,this.w=window.innerWidth,this.h=window.innerHeight,this.alpha=0,this.graphic=null,this.canvas,this.fadeFlag=!1,this.startFade=this.startFade.bind(this),this.dispose=this.dispose.bind(this)}setup(){const s="WEBGL"===this.renderer?this.s.WEBGL:this.s.P2D;this.s.createCanvas(this.w,this.h,s),this.graphic=this.s.createGraphics(this.w,this.h),this.graphic.hide(),window.addEventListener("fade",this.startFade,!1)}draw(){"WEBGL"===this.renderer&&this.use2D&&this.s.translate(-this.s.width/2,-this.s.height/2,0),this.fadeFlag&&(this.graphic.clear(),this.graphic.fill(0,this.alpha),this.graphic.rect(0,0,this.graphic.width,this.graphic.height),this.alpha+=2,this.alpha>a.a.ALPHA_MAX&&this.dispose())}preload(){}mousePressed(){}keyTyped(s){32!==s.keyCode||this.fadeFlag||this.startFade()}keyPressed(){}doubleClicked(){}init(){this.sketch=s=>{this.s=s,this.s.preload=()=>this.preload(this.s),this.s.setup=()=>this.setup(this.s),this.s.draw=()=>this.draw(this.s),this.s.mousePressed=()=>this.mousePressed(this.s),this.s.keyTyped=()=>this.keyTyped(this.s),this.s.keyPressed=()=>this.keyPressed(this.s),this.s.doubleClicked=()=>this.doubleClicked(this.s)},this.canvas=new h.a(this.sketch,"canvas")}startFade(){this.graphic.show(),this.fadeFlag=!0}dispose(){this.graphic.remove(),this.graphic=null,this.s.remove(),this.s=null,this.sketch=null,this.canvas=null;const s=new Event("finish");window.dispatchEvent(s),window.removeEventListener("fade",this.startFade,!1)}get getSketch(){return this.s}}},2:function(s,t,e){"use strict";e.r(t);var i=e(13),h=e(16),a=e.n(h);let d,r,n,l,o,c,p=[];class g extends i.a{preload(s){super.preload(),d=s.loadImage("images/mask.png"),r=s.loadImage("images/sabito.png"),p=[d,r]}setup(s){super.setup(),c=this,s.background(0),d.loadPixels(),r.loadPixels(),n=s.createCapture(s.VIDEO),n.size(s.width,s.height),n.hide();l=a.a.faceApi(n,{withLandmarks:!0,withDescriptors:!1},this.modelLoaded)}modelLoaded(){l.detect(c.gotFaces)}gotFaces(s,t){if(s)console.log(s);else if(o=t,c){if(c.s.background(0),c.s.push(),c.s.translate(c.s.width,0),c.s.scale(-1,1),c.s.image(n,0,0,c.s.width,c.s.height),o&&o.length>0){let s=0;for(let t=0,e=o.length;t<e;t++)c.s.image(p[s],o[t].detection.box.left,o[t].detection.box.top,o[t].landmarks.imageWidth,o[t].landmarks.imageHeight),s++,2===s&&(s=0)}c.s.pop(),l.detect(c.gotFaces)}}dispose(){d=null,n.remove(),n=null,l=null,c.gotFaces=null,c=null,super.dispose()}}t.default=function(){(new g).init()}}}]);